<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>吖远zzyのQQ频道机器人APP</title>
</head>
<body>
    <script>
        // 定义 JSON 数据
        const appData = {
            "version": "1.0.1",
            "updateLog": "1. 优化了消息发送体验\n2. 修复了部分已知问题\n3. 增加了使用说明功能\n4. 增加了版本检查功能",
            "downloadUrl": "https://example.com/download/QQbot.apk",
            "forceUpdate": false,
            "showAnnouncements": true,
            "showInstructions": true,
            "announcements": [
                {
                    "title": "功能更新通知",
                    "content": "我们最近更新了一些新功能，包括使用说明和版本检查等，欢迎体验！",
                    "date": "2023-12-23"
                },
                {
                    "title": "使用提醒",
                    "content": "请确保您使用的是最新版本的应用，以获得最佳体验。",
                    "date": "2023-12-23"
                }
            ],
            "instructions": "# QQ频道机器人使用说明\n\n## 基本功能\n1. 登录功能\n   - 支持账号密码登录\n   - 支持记住账号和自动登录\n\n## 消息功能\n1. 消息发送\n   - 支持文本消息\n   - 支持@用户\n\n## 通知设置\n1. 消息通知\n   - 可开启/关闭消息通知\n   - 支持@消息震动提醒\n   - 支持系统通知栏显示\n\n## 其他功能\n1. 版本更新\n   - 自动检查新版本\n   - 支持一键更新\n\n2. 账号管理\n   - 支持切换正式/沙盒环境\n   - 支持退出登录",
            "lastUpdated": "2023-12-23 12:00:00"
        };

        // 检查是否需要返回 JSON
        if (window.location.search.includes('format=json')) {
            // 设置正确的 Content-Type
            document.write(JSON.stringify(appData));
            // 停止后续 HTML 内容的渲染
            document.close();
        } else {
            // 显示 HTML 页面
            document.write(`
                <div id="app">
                    <h1>吖远zzyのQQ频道机器人APP</h1>
                    <p>如果你看到这个页面，说明你正在直接访问数据接口。</p>
                    <p>这个页面用于为 APP 提供数据服务，包括：</p>
                    <ul>
                        <li>版本信息</li>
                        <li>更新日志</li>
                        <li>系统公告</li>
                        <li>使用说明</li>
                    </ul>
                    <hr>
                    <h2>当前版本信息：</h2>
                    <pre>${JSON.stringify(appData, null, 2)}</pre>
                </div>
            `);
            document.close();
        }
    </script>
</body>
</html> 